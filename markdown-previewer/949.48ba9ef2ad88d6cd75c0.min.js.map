{"version":3,"file":"949.48ba9ef2ad88d6cd75c0.min.js","mappings":"y1DAMAA,IAAAA,QAAkB,2BAA2B,SAAUC,GACjDA,EAAKC,SAA0C,MAA/BD,EAAKC,QAAQC,gBAC/BF,EAAKG,aAAa,SAAU,UAC5BH,EAAKG,aAAa,MAAO,uBAE7B,IAEAC,EAAAA,GAAAA,WAAkB,CAChBC,QAAQ,EACRC,UAAW,SAAUC,GACnB,OAAOC,IAAAA,UAAgBD,EAAMC,IAAAA,UAAAA,WAA4B,aAC3D,IACC,IAEGC,EAAO,SAAAC,I,qRAAAC,CAAAF,EAAAC,GAAA,I,MAAAE,EAAAC,EAAAJ,GACX,SAAAA,EAAYK,GAAO,IAAAC,EAIf,O,4FAJeC,CAAA,KAAAP,IACjBM,EAAAH,EAAAK,KAAA,KAAMH,IACDI,MAAQ,CACXC,YAAa,IACbJ,CACJ,CAyDC,O,EAzDAN,G,EAAA,EAAAW,IAAA,qBAAAC,MAED,SAAmBC,GACAC,KAAKT,MAAdU,OACKF,EAAUE,MACrBD,KAAKE,eAET,GAAC,CAAAL,IAAA,oBAAAC,MAED,WACEE,KAAKE,eACP,GAAC,CAAAL,IAAA,gBAAAC,MAED,WACE,IAAQG,EAASD,KAAKT,MAAdU,KACFE,GAAYtB,EAAAA,EAAAA,IAAOoB,GACnBG,EAAgB5B,IAAAA,SAAmB2B,GACzCH,KAAKK,SAAS,CAAET,YAAaQ,GAC/B,GAAC,CAAAP,IAAA,SAAAC,MAED,WAAS,IAAAQ,EACDC,EAAqBP,KAAKT,MAAMgB,mBAEtC,OACEC,EAAAA,cAAA,OAAKC,UAAS,UAAAC,OAAYH,EAAqB,UAAY,YACzDC,EAAAA,cAAA,OAAKC,UAAU,SACbD,EAAAA,cAAA,SAAOC,UAAU,SAAQ,WACzBD,EAAAA,cAAA,OAAKC,UAAU,WACbD,EAAAA,cAAA,OACEG,GAAG,oBACHF,UAAS,YAAAC,OACPH,EAAqB,qBAAuB,KAG9CC,EAAAA,cAAA,QAAMG,GAAG,gBACPH,EAAAA,cAAA,YACEA,EAAAA,cAAA,QACEI,IAAI,aACJC,KAAK,WACLC,KAAK,qBAGTN,EAAAA,cAAA,QAAMG,GAAG,gBACPH,EAAAA,cAAA,OACEG,GAAG,UACHI,wBAAyB,CACvBC,QAAkB,QAAVV,EAAAN,KAAKL,aAAK,IAAAW,OAAA,EAAVA,EAAYV,cAAe,IAErCqB,MAAM,0BASxB,M,8EAAC/B,CAAA,CA/DU,CAASsB,EAAAA,WAkEtB,W","sources":["webpack://markdown-previewer/./src/preview.js"],"sourcesContent":["import DOMPurify from \"dompurify/dist/purify.min.js\";\n// import DOMPurify from \"dompurify\";\nimport { marked } from \"marked\";\nimport React from \"react\";\nimport Prism from \"prismjs/prism\";\n\nDOMPurify.addHook(\"afterSanitizeAttributes\", function (node) {\n  if (node.tagName && node.tagName.toLowerCase() === \"a\") {\n    node.setAttribute(\"target\", \"_blank\");\n    node.setAttribute(\"rel\", \"noopener noreferrer\");\n  }\n});\n\nmarked.setOptions({\n  breaks: true,\n  highlight: function (code) {\n    return Prism.highlight(code, Prism.languages.javascript, \"javascript\");\n  },\n});\n\nclass Preview extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      htmlContent: \"\",\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const { text } = this.props;\n    if (text !== prevProps.text) {\n      this.highlightCode();\n    }\n  }\n\n  componentDidMount() {\n    this.highlightCode();\n  }\n\n  highlightCode() {\n    const { text } = this.props;\n    const rawMarkup = marked(text);\n    const sanitizedHtml = DOMPurify.sanitize(rawMarkup);\n    this.setState({ htmlContent: sanitizedHtml });\n  }\n\n  render() {\n    const isVerticalOnTablet = this.props.isVerticalOnTablet;\n\n    return (\n      <div className={`column ${isVerticalOnTablet ? \"is-half\" : \"is-full\"}`}>\n        <div className=\"field\">\n          <label className=\"label\">Preview</label>\n          <div className=\"control\">\n            <div\n              id=\"preview-container\"\n              className={`textarea ${\n                isVerticalOnTablet ? \"is-tablet-vertical\" : \"\"\n              }`}\n            >\n              <html id=\"preview-html\">\n                <head>\n                  <link\n                    rel=\"stylesheet\"\n                    type=\"text/css\"\n                    href=\"./prism.min.css\"\n                  />\n                </head>\n                <body id=\"preview-body\">\n                  <div\n                    id=\"preview\"\n                    dangerouslySetInnerHTML={{\n                      __html: this.state?.htmlContent || \"\",\n                    }}\n                    title=\"Markdown Preview\"\n                  />\n                </body>\n              </html>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Preview;\n"],"names":["DOMPurify","node","tagName","toLowerCase","setAttribute","marked","breaks","highlight","code","Prism","Preview","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","htmlContent","key","value","prevProps","this","text","highlightCode","rawMarkup","sanitizedHtml","setState","_this$state","isVerticalOnTablet","React","className","concat","id","rel","type","href","dangerouslySetInnerHTML","__html","title"],"sourceRoot":""}